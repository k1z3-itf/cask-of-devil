(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{295:function(t,e,o){var content=o(337);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(45).default)("757fb15a",content,!0,{sourceMap:!1})},336:function(t,e,o){"use strict";o(295)},337:function(t,e,o){var n=o(44)(!1);n.push([t.i,'body{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#iz-arkit-status{z-index:511}#iz-arkit-footer-out{z-index:263}#iz-arkit-footer-menu{z-index:262}#iz-arkit-footer{z-index:261}#iz-arkit-select-menu{z-index:260}#iz-arkit-select-marker{z-index:259}#iz-arkit-select-line{z-index:258}#iz-arkit-header{position:absolute;top:0;left:0;width:calc(100% - 15px);padding:0 10px 0 5px;display:flex;justify-content:space-between;align-items:center}#iz-arkit-header .logo{width:108px}#iz-arkit-select-menu{position:absolute;top:72px;left:0;right:0;margin:auto;width:90%;max-width:480px;padding:5px;border-radius:10px;background-color:rgba(0,0,0,.53333);color:#fff;opacity:1;transition:opacity .2s;display:flex;flex-direction:column;justify-content:center;align-items:center}#iz-arkit-select-menu.tp{opacity:0}#iz-arkit-select-menu .top{display:flex;justify-content:space-between;align-items:center;width:calc(100% - 16px);padding:5px 0 2px}#iz-arkit-select-menu .top .status{display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;height:48px}#iz-arkit-select-count{line-height:24px;font-size:22px;font-weight:800}#iz-arkit-select-menu .top .status #iz-arkit-select-status{font-weight:800}#iz-arkit-select-menu .top #iz-arkit-select-no{display:flex;justify-content:center;background-color:#f44;font-family:"Zinfandel Spur";font-size:42px;color:#fff;width:48px;height:48px}#iz-arkit-select-menu .bottom,#iz-arkit-select-menu .bottom .bt{width:100%;display:flex;justify-content:center;align-items:center}#iz-arkit-select-menu .bottom .bt{padding:5px 0;border-radius:5px;margin:5px;background-color:#888}#iz-arkit-select-menu .bottom .bt.red{background-color:#f44}#iz-arkit-select-menu .bottom .bt.green{background-color:#4c4}#iz-arkit-select-menu .bottom .bt.gray{background-color:#555;color:#888}#iz-arkit-select-marker{position:absolute;width:12px;height:12px;border-radius:50%;border:2px solid #fff;background-color:#000;transition:opacity .2s;opacity:1}#iz-arkit-select-marker.tp{opacity:0}#iz-arkit-select-line{position:absolute;transform-origin:left top;border-top:3px solid #000;opacity:1}#iz-arkit-select-line.tp{opacity:0}#iz-arkit-footer{position:absolute;right:0;bottom:0;display:flex;flex-direction:row-reverse;justify-content:center;align-items:flex-end}#iz-arkit-footer #iz-arkit-footer-menubt{background-color:#fff;color:#555;width:52px;height:60px;border:1px solid #b6b6b6;border-bottom:0;border-radius:8px 8px 0 0;margin:0 5px;display:flex;flex-direction:column;justify-content:center;align-items:center}#iz-arkit-footer #iz-arkit-footer-menubt i{font-size:36px;line-height:36px;height:36px}#iz-arkit-footer #iz-arkit-footer-menubt span{line-height:16px;font-size:13px;font-weight:800}#iz-arkit-footer .person{border:1px solid #b6b6b6;width:40px;height:40px;font-size:22px;font-weight:700;opacity:.8;border-radius:7px;margin:0 3px 5px;justify-content:center}#iz-arkit-footer-menu,#iz-arkit-footer .person{background-color:#fff;display:flex;align-items:center}#iz-arkit-footer-menu{position:absolute;left:0;bottom:0;width:calc(100% - 2px);height:134px;border-radius:8px 8px 0 0;border:solid #b6b6b6;border-width:1px 1px 0;transition:bottom .2s ease-in-out;flex-direction:column;justify-content:space-evenly}#iz-arkit-footer-menu.off{bottom:-133px}#iz-arkit-footer-menu .buttons{width:calc(100% - 20px);display:flex;flex-direction:row;justify-content:flex-start;align-items:center}#iz-arkit-footer-menu .buttons .bt{display:flex;flex-direction:column;justify-content:center;align-items:center}#iz-arkit-footer-menu .buttons .bt i{width:52px;height:52px;background-color:#eee;border:1px solid #b6b6b6;border-radius:8px;margin:2px 4px;font-size:32px;line-height:28px;display:flex;justify-content:center;align-items:center}#iz-arkit-footer-menu .buttons .bt span{font-size:12px}#iz-arkit-footer-out{position:absolute;left:0;bottom:0;width:calc(100% - 2px);height:124px;border-radius:8px 8px 0 0;border:solid #b6b6b6;border-width:1px 1px 0;background-color:#fff;transition:bottom .2s ease-in-out;display:flex;flex-direction:column;justify-content:space-evenly;align-items:center}#iz-arkit-footer-out.off{bottom:-125px}#iz-arkit-footer-out .text{width:calc(100% - 28px);font-size:14px;font-weight:700}#iz-arkit-footer-out .buttons,#iz-arkit-footer-out .text{display:flex;flex-direction:row;justify-content:flex-start;align-items:center}#iz-arkit-footer-out .buttons{width:calc(100% - 20px)}#iz-arkit-footer-out .buttons .bt{width:52px;height:52px;background-color:#f44;color:#fff;margin:2px 4px;font-size:40px;font-family:"Zinfandel Spur";line-height:28px;display:flex;justify-content:center;align-items:center}#iz-arkit-footer-menu .closebt,#iz-arkit-footer-out .closebt{width:calc(100% - 20px);height:32px;background-color:#888;color:#fff;border-radius:5px;margin:2px 0 10px;display:flex;justify-content:center;align-items:center}#iz-arkit-status{position:absolute;width:100%;height:100%;top:0;left:0}#iz-arkit-status .page-inner{width:100%;height:100%;display:flex;justify-content:center;align-items:center}#iz-arkit-status .page-inner .white-box{width:calc(100% - 20px);height:160px;padding:20px 0;max-width:540px;background-color:#fff;border-radius:8px;display:flex;flex-direction:column;justify-content:center;align-items:center}#iz-arkit-status .page-inner .white-box .text{color:#333;font-size:18px}',""]),t.exports=n},375:function(t,e,o){"use strict";o.r(e),o.d(e,"AR",(function(){return E}));o(291);var n=o(2),r=o(114),l=o(115),c=o(324),d=o(325),f=o(292),m=(o(21),o(57),o(242),o(36),o(224),o(64),o(65),o(1)),k=o(243),v=o(293),h=o(288),y=o(272),x=o(240),z=o(241);function w(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=Object(f.a)(t);if(e){var r=Object(f.a)(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return Object(d.a)(this,o)}}var _=m.a.extend({layout:"ar",data:function(){return{ar:void 0}},components:{ARKit:h.default,OnePages:x.default,OnePage:z.default},mounted:function(){this.init(),window.setTimeout((function(){document.getElementById("iz-arkit-select-menu").style.display="none"}),100,!1)},methods:{init:function(){var t=this.$refs.arkit,e=this.$refs.status;this.ar=new E,this.ar.title="caskTest2",this.ar.setStatus(e),t.setAR(this.ar)},offFooterMenu:function(){this.ar.offFooterMenu()},offFooterOut:function(){this.ar.offFooterOut()}}}),E=function(t){Object(c.a)(f,t);var e,o,d=w(f);function f(){var t;return Object(r.a)(this,f),(t=d.call(this)).markerPos={x:0,y:0,z:0},t.smokeAction=[],t.set_sword=[],t.select_sword=-1,t.console=Array(2).fill(""),t.scale=100,t.maxScale=200,t.minScale=10,t.stepScale=10,t}return Object(l.a)(f,[{key:"setLight",value:function(){var t=new k.a(16777215,1);this.scene.add(t)}},{key:"setObject",value:function(){var t=this,e=this.scale/100,o=new v.a;o.load("/cask-of-devil/3Dmodel/cask.glb",(function(data){var o=data.scene;o.name="cask",o.scale.set(e,e,e),o.position.set(0,0,0),t.markerRoot.add(o)})),o.load("/cask-of-devil/3Dmodel/devil.glb",(function(data){t.devil=data.scene,t.devil.name="devil",t.devil.scale.set(e,e,e),t.devil.position.set(0,0,0);var o=data.animations;if(o){var n=new k.c(t.devil);n.clipAction(o[0]).play(),t.mixers.push(n)}t.markerRoot.add(t.devil)})),o.load("/cask-of-devil/3Dmodel/flash.glb",(function(data){t.flash=data.scene,t.flash.name="flash",t.flash.scale.set(e,e,e),t.flash.position.set(0,0,0),t.flash.visible=!1,t.markerRoot.add(t.flash)})),o.load("/cask-of-devil/3Dmodel/smoke.glb",(function(data){t.smoke=data.scene,t.smoke.name="smoke",t.smoke.scale.set(e,e,e),t.smoke.position.set(0,0,0),t.smoke.visible=!1;for(var o=data.animations,n=new k.c(t.smoke),i=0;i<o.length;i++){var r=n.clipAction(o[i]);r.play(),t.smokeAction.push(r),t.mixers.push(n)}t.markerRoot.add(t.smoke)}))}},{key:"setEvent",value:function(){var t=this;this.markerChase(),document.getElementById("iz-arkit-threejs").addEventListener("mousedown",(function(e){var o=Number(t.getObjName(e));0!=o&&o&&1!=t.set_sword.includes(o)&&(t.select_sword=o,t.offFooterMenu(),t.offFooterOut(),t.onSelectMenu(o),t.adjustMarkerBox(o))}),!1),document.getElementById("iz-arkit-bt-sword").addEventListener("mousedown",(function(){-1!=t.select_sword&&(t.setSword(t.select_sword),8==t.select_sword&&t.flyDevil(),2==t.select_sword&&t.changeStatusYouDevil(),t.set_sword.push(t.select_sword),t.offSelectMenu(),t.offFooterMenu(),t.offFooterOut()),t.select_sword=-1}),!1),document.getElementById("iz-arkit-bt-exit").addEventListener("mousedown",(function(){t.offSelectMenu(),t.select_sword=-1})),document.getElementById("iz-arkit-footer-menubt").addEventListener("mousedown",(function(){t.offSelectMenu(),t.offFooterOut(),t.onFooterMenu()})),document.getElementById("iz-arkit-zoom-in").addEventListener("mousedown",(function(){t.act_zoomIn()})),document.getElementById("iz-arkit-zoom-out").addEventListener("mousedown",(function(){t.act_zoomOut()})),document.getElementById("iz-arkit-check-out").addEventListener("mousedown",(function(){t.offFooterMenu(),t.onFooterOut()}))}},{key:"setStatus",value:function(t){this.stPage=t}},{key:"changeStatus",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";this.stPage.change(t,e)}},{key:"changeStatusYouDevil",value:function(){var t=this,e=document.getElementById("iz-arkit-status");e.style.display="flex",this.changeStatus("you-devil","fade"),window.setTimeout((function(){t.changeStatus("TP","fade"),window.setTimeout((function(){e.style.display="none"}),200,!1)}),4e3,!1)}},{key:"setSword",value:(o=Object(n.a)(regeneratorRuntime.mark((function t(e){var o,n,r,l,c=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=new v.a,n=String(e),r=this.scale/100,l=["/cask-of-devil/3Dmodel/sword_up.glb","/cask-of-devil/3Dmodel/sword_mid.glb","/cask-of-devil/3Dmodel/sword_low.glb"],t.next=6,o.load(l[(e-1)/8|0],(function(data){var t=data.scene;t.name=n,t.scale.set(r,r,r),t.position.set(0,0,0),t.rotation.set(0,(e-1)%8*45*Math.PI/180,0),c.markerRoot.add(t)}));case 6:this.insertSwordEffect();case 7:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)})},{key:"flyDevil",value:(e=Object(n.a)(regeneratorRuntime.mark((function t(){var e,o,n,r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(){e.devil.position.setY(e.devil.position.y+.4),o=requestAnimationFrame(n)},e=this,n(),t.next=5,this.smokeEffect();case 5:window.setTimeout((function(){r.flash.visible=!1,cancelAnimationFrame(o)}),2e3,!1);case 6:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"insertSwordEffect",value:function(){var t,e=this,o=this.flash.children[0].children[0];o.material.opacity=1,this.flash.visible=!0,function e(){o.material.opacity=o.material.opacity-.08,t=requestAnimationFrame(e)}(),window.setTimeout((function(){e.flash.visible=!1,cancelAnimationFrame(t)}),500,!1)}},{key:"smokeEffect",value:function(){var t,e=this,o=this.smoke.children[0].children[0];o.material.opacity=.8,this.smokeAction[0].play(),this.smoke.visible=!0,function e(){o.material.opacity=o.material.opacity-.02,t=requestAnimationFrame(e)}(),window.setTimeout((function(){e.smoke.visible=!1,cancelAnimationFrame(t)}),1800,!1)}},{key:"adjustMarkerBox",value:function(t){var e=this.scale/100,o=(t-1)/8|0,n=(t-1)%8*45,r=[-29.8*Math.PI/180,0,42.8*Math.PI/180],l=[(n+17.8)*Math.PI/180,(n+22.5)*Math.PI/180,(n+28.2)*Math.PI/180],c=[1.26,1.21,1.22][o]*e,d=0*Math.cos(l[o])+Math.sin(l[o])*Math.sin(r[o])*0+Math.sin(l[o])*Math.cos(r[o])*c,f=0*Math.cos(r[o])-Math.sin(r[o])*c+1.21*e,m=0*-Math.sin(l[o])+Math.cos(l[o])*Math.sin(r[o])*0+Math.cos(l[o])*Math.cos(r[o])*c;this.markerPos={x:d,y:f,z:m}}},{key:"markerChase",value:function(){if(requestAnimationFrame(this.markerChase.bind(this)),-1!=this.select_sword){var t=this.world2screenPos(this.markerPos.x,this.markerPos.y,this.markerPos.z);document.getElementById("iz-arkit-select-marker").style.left=t.x-8+"px",document.getElementById("iz-arkit-select-marker").style.top=t.y-8+"px";var e=window.innerWidth/2,o=Math.sqrt(Math.pow(t.x-e,2)+Math.pow(t.y-180,2)),n=Math.acos((t.x-e)/o);t.y<180&&(n=-n);var r=document.getElementById("iz-arkit-select-line");r.style.left=e+"px",r.style.top="180px",r.style.width=o+"px",r.style.transform="rotate("+n+"rad)"}}},{key:"onSelectMenu",value:function(t){document.getElementById("iz-arkit-select-no").innerHTML=String((t-1)%8+1),document.getElementById("iz-arkit-select-no").style.backgroundColor=["#00B0F0","#DFA000","#8040B0"][(t-1)/8|0],document.getElementById("iz-arkit-select-count").innerHTML=String(24-this.set_sword.length),document.getElementById("iz-arkit-select-menu").style.display="flex",document.getElementById("iz-arkit-select-marker").style.display="block",document.getElementById("iz-arkit-select-line").style.display="block",window.setTimeout((function(){document.getElementById("iz-arkit-select-menu").classList.remove("tp"),document.getElementById("iz-arkit-select-marker").classList.remove("tp"),document.getElementById("iz-arkit-select-line").classList.remove("tp")}),10,!1)}},{key:"offSelectMenu",value:function(){document.getElementById("iz-arkit-select-menu").classList.add("tp"),document.getElementById("iz-arkit-select-marker").classList.add("tp"),document.getElementById("iz-arkit-select-line").classList.add("tp"),window.setTimeout((function(){document.getElementById("iz-arkit-select-menu").style.display="none",document.getElementById("iz-arkit-select-marker").style.display="none",document.getElementById("iz-arkit-select-line").style.display="none"}),200,!1)}},{key:"onFooterMenu",value:function(){document.getElementById("iz-arkit-footer-menu").style.display="flex",window.setTimeout((function(){document.getElementById("iz-arkit-footer-menu").classList.remove("off")}),10,!1)}},{key:"offFooterMenu",value:function(){document.getElementById("iz-arkit-footer-menu").classList.add("off"),window.setTimeout((function(){document.getElementById("iz-arkit-footer-menu").style.display="none"}),200,!1)}},{key:"onFooterOut",value:function(){document.getElementById("iz-arkit-footer-out").style.display="flex",window.setTimeout((function(){document.getElementById("iz-arkit-footer-out").classList.remove("off")}),10,!1)}},{key:"offFooterOut",value:function(){document.getElementById("iz-arkit-footer-out").classList.add("off"),window.setTimeout((function(){document.getElementById("iz-arkit-footer-out").style.display="none"}),200,!1)}}]),f}(y.ARmod),C=_,M=(o(336),o(27)),component=Object(M.a)(C,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("ARKit",{ref:"arkit"}),t._v(" "),n("div",{attrs:{id:"iz-arkit-header"}},[n("Timer",{ref:"timer"}),t._v(" "),n("img",{staticClass:"logo",attrs:{src:o(235)}})],1),t._v(" "),t._m(0),t._v(" "),n("div",{staticClass:"tp",attrs:{id:"iz-arkit-select-marker"}}),t._v(" "),n("div",{staticClass:"tp",attrs:{id:"iz-arkit-select-line"}}),t._v(" "),t._m(1),t._v(" "),n("div",{staticClass:"off",staticStyle:{display:"none"},attrs:{id:"iz-arkit-footer-menu"}},[t._m(2),t._v(" "),n("div",{staticClass:"closebt",on:{click:t.offFooterMenu}},[t._v("閉じる")])]),t._v(" "),n("div",{staticClass:"off",staticStyle:{display:"none"},attrs:{id:"iz-arkit-footer-out"}},[t._m(3),t._v(" "),t._m(4),t._v(" "),n("div",{staticClass:"closebt",on:{click:t.offFooterOut}},[t._v("閉じる")])]),t._v(" "),n("div",{staticStyle:{display:"none"},attrs:{id:"iz-arkit-status"}},[n("OnePages",{ref:"status",attrs:{initName:"TP"}},[n("OnePage",{attrs:{name:"TP"}}),t._v(" "),n("OnePage",{attrs:{name:"you-devil",pClass:"page-inner"}},[n("div",{staticClass:"white-box"},[n("div",{staticClass:"text"},[t._v("あなたはデビル(役)です")]),t._v(" "),n("div",{staticClass:"text"},[t._v("人間チームになりすまそう！")])])]),t._v(" "),n("OnePage",{attrs:{name:"you-person",pClass:"page-inner"}},[t._v(">\n        "),n("div",{staticClass:"white-box"},[n("div",{staticClass:"text"},[t._v("あなたは人間チームです")]),t._v(" "),n("div",{staticClass:"text"},[t._v("協力してデビルを見つけだそう！")])])]),t._v(" "),n("OnePage",{attrs:{name:"you-person",pClass:"page-inner"}},[t._v(">\n        "),n("div",{staticClass:"white-box"},[n("div",{staticClass:"text"},[t._v("アウトマスは全部でn個あります")]),t._v(" "),n("div",{staticClass:"text"},[t._v("以下はあなたが知っているアウトマス")]),t._v(" "),n("div",{staticClass:"text"},[t._v("左下のMENUからもアウトマスを確認できます")])])])],1)],1)],1)}),[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"tp",attrs:{id:"iz-arkit-select-menu"}},[o("div",{staticClass:"top"},[o("div",{staticClass:"status"},[o("div",{staticClass:"sword-count"},[t._v("残り: "),o("span",{attrs:{id:"iz-arkit-select-count"}},[t._v("24")]),t._v(" / 24本")]),t._v(" "),o("div",{attrs:{id:"iz-arkit-select-status"}},[o("i",{staticClass:"bi bi-patch-exclamation-fill"}),t._v(" アウトマス")])]),t._v(" "),o("div",{attrs:{id:"iz-arkit-select-no"}})]),t._v(" "),o("div",{staticClass:"bottom"},[o("div",{staticClass:"bt red",attrs:{id:"iz-arkit-bt-sword"}},[t._v("剣を刺す")]),t._v(" "),o("div",{staticClass:"bt green",staticStyle:{display:"none"},attrs:{id:"iz-arkit-bt-wait"}},[t._v("待った！")]),t._v(" "),o("div",{staticClass:"bt gray",staticStyle:{display:"none"},attrs:{id:"iz-arkit-bt-waiting"}},[t._v("待機中...")]),t._v(" "),o("div",{staticClass:"bt",attrs:{id:"iz-arkit-bt-exit"}},[t._v("やめる")])])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"iz-arkit-footer"}},[o("div",{attrs:{id:"iz-arkit-footer-menubt"}},[o("i",{staticClass:"bi bi-chevron-double-up"}),t._v(" "),o("span",{staticStyle:{height:"line-height:14px"}},[t._v("MENU")])])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"buttons"},[o("div",{staticClass:"bt",attrs:{id:"iz-arkit-zoom-in"}},[o("i",{staticClass:"bi bi-zoom-in"}),o("span",[t._v("拡大")])]),t._v(" "),o("div",{staticClass:"bt",attrs:{id:"iz-arkit-zoom-out"}},[o("i",{staticClass:"bi bi-zoom-out"}),o("span",[t._v("縮小")])]),t._v(" "),o("div",{staticClass:"bt",attrs:{id:"iz-arkit-check-out"}},[o("i",{staticClass:"bi bi-patch-exclamation-fill"}),o("span",[t._v("アウト確認")])]),t._v(" "),o("div",{staticClass:"bt"},[o("i",{staticClass:"bi bi-journal-bookmark-fill"}),o("span",[t._v("ルール")])])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"text"},[o("i",{staticClass:"bi bi-patch-exclamation-fill"}),t._v("アウトマス")])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"buttons"},[o("div",{staticClass:"bt"},[t._v("1")]),t._v(" "),o("div",{staticClass:"bt"},[t._v("2")]),t._v(" "),o("div",{staticClass:"bt"},[t._v("3")]),t._v(" "),o("div",{staticClass:"bt"},[t._v("4")])])}],!1,null,null,null);e.default=component.exports;installComponents(component,{Timer:o(262).default,OnePage:o(241).default,OnePages:o(240).default})}}]);